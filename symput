/* 3 avançado
macros 

**SYMPUTX** 
**CRIANDO TABELA COM VARIÁVEIS ESPECÍFICAS DAS TABELAS** 
** call SYMPUT("VARIAVELTEXTO", VALOR);

*/ 


proc sort  data = bases.airline
			out = work.sum; 
			BY YEAR; 
run; 	
			
data work.SUMSYMPUT;
	set work.sum;

   
   /* CRIANDO VARIAVEIS* */ 
	TOTAL_ANO = SUM (TOTAL_ANO, Y);
	TOTAL_SEMANA = SUM (TOTAL_SEMANA, W);
	
	 /*TRABALHANDO COM OCORRENCIAS */
  IF Y > 10 THEN DO;
  TOTAL_ANO = 0;
  TOTAL_SEMANA = 0;
  END;
  
  /* **CRIANDO UMA MACRO VARIÁVEL USANDO SOMENTE UM ANO ESPECÍFICO**  */ 
  
  if YEAR = 1960 THEN DO; 
  	 CALL SYMPUT("ANO1960", TOTAL_ANO);
  	 CALL SYMPUT("SEMANA1960", TOTAL_SEMANA); 
  	 END; 
  	 
  KEEP YEAR Y W TOTAL_ANO TOTAL_SEMANA; 
 

run;

/* VISUALIZANDO A MACRO CRIADA

ESTRUTURA % PUT &. PUT É O COMANDO QUE FAZ A MACRO SER VISUALIZADA NO CONSOLE *
 A VARIAVEL PODE SER USADA PARA CÓDIGOS FUTURAMENTE.  */  

 %PUT &ANO1960. - &SEMANA1960.; 
